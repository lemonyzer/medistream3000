<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Add New Appointment</title>
</head>
<body>

<div th:fragment="modal" class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"
     _="on closeModal add .closing then wait for animationend then remove me">
  <!--
    Background backdrop, show/hide based on modal state.

    Entering: "ease-out duration-300"
      From: "opacity-0"
      To: "opacity-100"
    Leaving: "ease-in duration-200"
      From: "opacity-100"
      To: "opacity-0"
  -->
  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
      <div class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6">
        <div>
          <h2 class="text-2xl font-bold mb-4">Book or Share appointment</h2>

          <form id="frmActionsAppointment"
                th:action="@{/htmx/posts/actionsAppointmentModal}"
                th:method="post"
                th:object="${appointment}"
          >

            <div class="flex items-center">
              <label for="id" class="block text-sm font-medium leading-6 text-gray-900 mt-2">Id</label>
              <div class="mt-2">
                <input th:value="${appointment.id}" type="number" readonly name="id" id="id" class="block readonly w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="0">
              </div>
            </div>

<!--            <div>-->
<!--              <label for="booked" class="block text-sm font-medium leading-6 text-gray-900">booked</label>-->
<!--              <div class="mt-2">-->
<!--                <input type="number" name="booked" th:value="${appointment.booked}" id="booked" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="booked">-->
<!--              </div>-->
<!--            </div>-->

            <div class="flex items-center">
              <label for="showStartTimestamp" class="block text-sm font-medium leading-6 text-gray-900 mt-2">startTimestamp</label>
              <div class="mt-2">
                <input type="datetime-local" readonly step="1" th:value="${#dates.format(appointment.startTimestamp, 'yyyy-MM-dd''T''HH:mm:ss')}" id="showStartTimestamp" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="startTimestamp">
              </div>
            </div>

            <div class="flex items-center">
              <div class="mt-2">
                <input type="radio" name="booked"
                       th:checked="${appointment.booked == 1}"
                       th:value="1" id="book-options" class="">
                <label for="book-options" class="mt-2">gebucht (der Termin ist nicht verfügbar)</label>
              </div>
              <div class="mt-2">
                <input type="radio" name="booked"
                       th:checked="${appointment.booked == 0}"
                       th:value="0" id="book-options2" class="">
                <label for="book-options2" class="mt-2">verfügbar (der Termin ist verfügbar)</label>
              </div>
            </div>

<!--            <div>-->
<!--              <label for="notifyEmail" class="block text-sm font-medium leading-6 text-gray-900">my email address</label>-->
<!--              <div class="mt-2">-->
<!--                <input type="email" name="notifyEmail" id="notifyEmail"-->
<!--                       class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="me@mail.de">-->
<!--              </div>-->
<!--            </div>-->

            <div>
              <button type="submit" class="w-full rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Submit</button>
            </div>
          </form>
        </div>
        <div class="mt-5 sm:mt-6 flex gap-2">
          <button
                  data-bs-dismiss="modal"
                  _="on click trigger closeModal"
                  type="button" class="w-full rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Cancel</button>
          <button
                  hx-post="/appointments/save"
                  hx-target="body"
                  hx-trigger="click"
                  type="button" class="w-full rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Save</button>
        </div>
      </div>
    </div>
  </div>
</div>


</body>
</html>